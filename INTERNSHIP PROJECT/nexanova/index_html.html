<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NexaNova Portal</title>
  <link rel="stylesheet" href="style_css.css">
</head>
<body>
  <!-- Landing Page -->
  <div id="landingPage" class="page active">
    <div class="landing-container">
      <div class="landing-header">
        <h1>ğŸ“ NexaNova Portal</h1>
        <p>Welcome to the Learning Management System</p>
      </div>
      <div class="role-selection">
        <div class="role-card" onclick="showAuth('admin')">
          <div class="role-icon">ğŸ‘¨â€ğŸ’¼</div>
          <h2>Admin Portal</h2>
          <p>Manage trainers, subjects, and system administration</p>
          <button class="role-btn">Access Admin Portal</button>
        </div>
        <div class="role-card" onclick="showAuth('student')">
          <div class="role-icon">ğŸ‘¨â€ğŸ“</div>
          <h2>Student Portal</h2>
          <p>Access courses, materials, and track your progress</p>
          <button class="role-btn">Access Student Portal</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin Auth Page -->
  <div id="adminAuthPage" class="page">
    <div class="auth-container">
      <div class="auth-header">
        <h2>ğŸ‘¨â€ğŸ’¼ Admin Access</h2>
        <p id="adminAuthTitle">Login to your account</p>
      </div>
      <div class="auth-body">
        <button class="back-btn" onclick="showPage('landingPage')">â† Back to Home</button>
        <div id="adminMessage" class="message" style="display: none;"></div>
        
        <form id="adminLoginForm">
          <div class="form-group">
            <label>Email Address</label>
            <input type="email" id="adminLoginEmail" placeholder="admin@nexanova.com" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="adminLoginPassword" placeholder="Enter password" required>
          </div>
          <button type="submit">Login</button>
          <div class="toggle-auth">
            Don't have an account? <a onclick="toggleAdminAuth()">Register here</a>
          </div>
        </form>

        <form id="adminRegisterForm" style="display: none;">
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="adminRegName" placeholder="John Doe" required>
          </div>
          <div class="form-group">
            <label>Email Address</label>
            <input type="email" id="adminRegEmail" placeholder="admin@nexanova.com" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="adminRegPassword" placeholder="Create password" required>
          </div>
          <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" id="adminRegConfirmPassword" placeholder="Re-enter password" required>
          </div>
          <div class="form-group">
            <label>Admin Access Code</label>
            <input type="text" id="adminRegCode" placeholder="Enter admin code (ADMIN2024)" required>
          </div>
          <button type="submit">Register</button>
          <div class="toggle-auth">
            Already have an account? <a onclick="toggleAdminAuth()">Login here</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Student Auth Page -->
  <div id="studentAuthPage" class="page">
    <div class="auth-container">
      <div class="auth-header">
        <h2>ğŸ‘¨â€ğŸ“ Student Access</h2>
        <p id="studentAuthTitle">Login to your account</p>
      </div>
      <div class="auth-body">
        <button class="back-btn" onclick="showPage('landingPage')">â† Back to Home</button>
        <div id="studentMessage" class="message" style="display: none;"></div>
        
        <form id="studentLoginForm">
          <div class="form-group">
            <label>Email Address</label>
            <input type="email" id="studentLoginEmail" placeholder="student@example.com" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="studentLoginPassword" placeholder="Enter password" required>
          </div>
          <button type="submit">Login</button>
          <div class="toggle-auth">
            Don't have an account? <a onclick="toggleStudentAuth()">Register here</a>
          </div>
        </form>

        <form id="studentRegisterForm" style="display: none;">
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="studentRegName" placeholder="Jane Smith" required>
          </div>
          <div class="form-group">
            <label>Email Address</label>
            <input type="email" id="studentRegEmail" placeholder="student@example.com" required>
          </div>
          <div class="form-group">
            <label>Roll Number</label>
            <input type="text" id="studentRegRoll" placeholder="2024001" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" id="studentRegPassword" placeholder="Create password" required>
          </div>
          <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" id="studentRegConfirmPassword" placeholder="Re-enter password" required>
          </div>
          <button type="submit">Register</button>
          <div class="toggle-auth">
            Already have an account? <a onclick="toggleStudentAuth()">Login here</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Admin Management Portal -->
  <div id="adminPortal" class="page">
    <div class="container">
      <div class="header">
        <h1>NexaNova Management Portal</h1>
        <p>Comprehensive Trainer & Subject Management System</p>
        <button class="logout-btn" onclick="logout()">ğŸšª Logout</button>
      </div>

      <div class="content">
        <div class="stats">
          <div class="stat-card">
            <div class="stat-number" id="trainerCount">0</div>
            <div class="stat-label">Total Trainers</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="subjectCount">0</div>
            <div class="stat-label">Total Subjects</div>
          </div>
        </div>

        <div class="section">
          <h2>Trainer Management</h2>
          <div class="form-row">
            <input type="text" id="trainerName" placeholder="Trainer Name" />
            <input type="text" id="trainerId" placeholder="Employee ID" />
            <input type="text" id="trainerSubject" placeholder="Subject" />
            <button onclick="addTrainer()">â• Add Trainer</button>
          </div>

          <div class="form-row">
            <button onclick="getAllTrainers()" class="btn-info">ğŸ‘¥ Show All Trainers</button>
            <input type="text" id="getTrainerId" placeholder="Search by Employee ID" />
            <button onclick="getTrainerById()" class="btn-info">ğŸ” Search</button>
          </div>

          <div class="form-row">
            <input type="text" id="getTrainerSubject" placeholder="Filter by Subject" />
            <button onclick="getTrainerBySubject()" class="btn-info">ğŸ“š Filter</button>
            <input type="text" id="deleteTrainerId" placeholder="Delete by Employee ID" />
            <button onclick="deleteTrainer()" class="btn-danger">ğŸ—‘ï¸ Delete</button>
          </div>
        </div>

        <div class="section">
          <h2>Subject Management</h2>
          <div class="form-row">
            <input type="text" id="subjectName" placeholder="Subject Name" />
            <button onclick="addSubject()">â• Add Subject</button>
            <button onclick="getAllSubjects()" class="btn-info">ğŸ“‹ Show All Subjects</button>
          </div>

          <div class="form-row">
            <input type="text" id="subjectId" placeholder="Subject Name for Details" />
            <button onclick="getSubjectDetails()" class="btn-info">ğŸ” Get Subject Details</button>
          </div>
        </div>

        <div class="output-section">
          <h3>Results</h3>
          <div id="outputArea">
            <div class="empty-state">
              <p>No data to display. Start by adding trainers or subjects!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Student Portal -->
  <div id="studentPortal" class="page">
    <div class="container">
      <div class="header">
        <h1>ğŸ“š NexaNova Student Portal</h1>
        <p id="studentWelcome">Welcome back, Student!</p>
        <button class="logout-btn" onclick="logout()">ğŸšª Logout</button>
      </div>

      <div class="content">
        <div class="stats">
          <div class="stat-card">
            <div class="stat-number" id="enrolledCount">0</div>
            <div class="stat-label">Enrolled Courses</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="availableCount">0</div>
            <div class="stat-label">Available Courses</div>
          </div>
        </div>

        <div class="section">
          <h2>Available Subjects</h2>
          <div class="form-row">
            <button onclick="loadAvailableSubjects()" class="btn-info">ğŸ“‹ Show Available Subjects</button>
            <button onclick="loadMyEnrollments()" class="btn-info">ğŸ“š My Enrollments</button>
          </div>
        </div>

        <div class="section">
          <h2>Enroll in Subject</h2>
          <div class="form-row">
            <input type="text" id="enrollSubjectName" placeholder="Enter Subject Name" />
            <button onclick="enrollInSubject()">â• Enroll</button>
          </div>
        </div>

        <div class="section">
          <h2>View Trainer Details</h2>
          <div class="form-row">
            <input type="text" id="searchSubject" placeholder="Search by Subject" />
            <button onclick="viewTrainersBySubject()" class="btn-info">ğŸ” Search Trainers</button>
          </div>
        </div>

        <div class="output-section">
          <h3>Course Information</h3>
          <div id="studentOutputArea">
            <div class="empty-state">
              <p>Welcome! Browse available courses and enroll to get started.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

  <!-- Firebase Configuration -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAVKpzslG2vQZw-LK6wTAmWj5mm7aGGPkQ",
      authDomain: "nexanova-c3fd1.firebaseapp.com",
      projectId: "nexanova-c3fd1",
      storageBucket: "nexanova-c3fd1.appspot.com",
      messagingSenderId: "747203123201",
      appId: "1:747203123201:web:f23cd9b4dc1b027660c800",
      measurementId: "G-7KVT25JS4R"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
    console.log('ğŸ”¥ Firebase initialized successfully!');
  </script>

  <!-- Application Logic -->
  <script src="management_js.js"></script>
</body>
</html>